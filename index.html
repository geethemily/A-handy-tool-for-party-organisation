<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Garden Party Planner</title>

<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>

<style>
body {
    margin: 0;
    font-family: 'Segoe UI', sans-serif;
    background-color: #f4f7f2;
    color: #2f3e2f;
}

header {
    text-align: center;
    padding: 40px 20px;
    background: linear-gradient(to right, #cde5cd, #eaf4ea);
}

.container {
    max-width: 1100px;
    margin: 30px auto;
    padding: 20px;
}

button {
    padding: 8px 16px;
    margin: 6px 6px 6px 0;
    background-color: #3b5d3b;
    color: white;
    border: none;
    border-radius: 6px;
    cursor: pointer;
}

button:hover {
    background-color: #2f4b2f;
}

/* MENU SECTION */
.menu-section {
    background: #eaf4ea;
    padding: 25px;
    border-radius: 12px;
    margin-bottom: 30px;
}

.menu-tabs {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    margin-bottom: 20px;
}

.menu-tab {
    padding: 10px 15px;
    background: #cde5cd;
    border-radius: 6px;
    cursor: pointer;
}

.menu-tab.active {
    background: #3b5d3b;
    color: white;
}

.menu-content {
    display: none;
    background: #ffffff;
    padding: 20px;
    border-radius: 8px;
}

.menu-content.active {
    display: block;
}

.menu-content h3 {
    margin-top: 0;
}

ul {
    padding-left: 20px;
}

input {
    padding: 6px;
    margin-top: 5px;
    margin-right: 5px;
    border-radius: 4px;
    border: 1px solid #ccc;
}

.section {
    padding: 25px;
    margin-bottom: 25px;
    border-radius: 12px;
    background-color: #d1e7d1;
}
</style>
</head>

<body>

<header>
<h1>Interactive Garden Party Planner</h1>
<p>Tasks ‚Ä¢ Budget ‚Ä¢ Menu Planner ‚Ä¢ Ingredients</p>
</header>

<div class="container">

<button onclick="exportFullPDF()">üìÑ Export Full Planner</button>

<!-- ================= MENU PLANNER ================= -->
<div class="menu-section">
<h2>üçΩ Interactive Menu Planner</h2>

<div class="menu-tabs" id="menuTabs"></div>
<div id="menuContents"></div>

</div>

<!-- Existing planner container -->
<div id="planner-container"></div>

</div>

<script>

// ================= MENU DATA =================
const menuCategories = [
"Welcome Drinks",
"Appetizers / Starters",
"Salads & Light Bites",
"Main Options",
"Desserts",
"Extras / Grazing Table",
"Kids Menu"
];

let savedMenu = JSON.parse(localStorage.getItem("gardenMenuData")) || {};

const tabsContainer = document.getElementById("menuTabs");
const contentContainer = document.getElementById("menuContents");

// Create Tabs
menuCategories.forEach((category, index) => {

    const tab = document.createElement("div");
    tab.className = "menu-tab";
    tab.textContent = category;
    if(index === 0) tab.classList.add("active");
    tabsContainer.appendChild(tab);

    const content = document.createElement("div");
    content.className = "menu-content";
    if(index === 0) content.classList.add("active");

    content.innerHTML = `
        <h3>${category}</h3>

        <h4>Menu Items</h4>
        <ul class="menu-items"></ul>
        <input type="text" placeholder="Add menu item" class="menu-item-input">
        <button class="add-menu-item">Add</button>

        <h4 style="margin-top:20px;">Ingredients to Buy</h4>
        <ul class="ingredients-list"></ul>
        <input type="text" placeholder="Add ingredient" class="ingredient-input">
        <button class="add-ingredient">Add</button>
    `;

    contentContainer.appendChild(content);

    // Tab Click
    tab.onclick = () => {
        document.querySelectorAll(".menu-tab").forEach(t=>t.classList.remove("active"));
        document.querySelectorAll(".menu-content").forEach(c=>c.classList.remove("active"));
        tab.classList.add("active");
        content.classList.add("active");
    };

    // Load Saved Data
    if(savedMenu[category]){
        savedMenu[category].items?.forEach(i=>{
            addListItem(content.querySelector(".menu-items"), i);
        });
        savedMenu[category].ingredients?.forEach(i=>{
            addListItem(content.querySelector(".ingredients-list"), i);
        });
    }

    // Add Menu Item
    content.querySelector(".add-menu-item").onclick = ()=>{
        const input = content.querySelector(".menu-item-input");
        if(!input.value) return;
        addListItem(content.querySelector(".menu-items"), input.value);
        input.value="";
        saveMenu();
    };

    // Add Ingredient
    content.querySelector(".add-ingredient").onclick = ()=>{
        const input = content.querySelector(".ingredient-input");
        if(!input.value) return;
        addListItem(content.querySelector(".ingredients-list"), input.value);
        input.value="";
        saveMenu();
    };
});

// Add List Item Helper
function addListItem(list, text){
    const li = document.createElement("li");
    li.textContent = text;
    list.appendChild(li);
}

// Save Menu
function saveMenu(){
    let data={};
    document.querySelectorAll(".menu-content").forEach(content=>{
        const category = content.querySelector("h3").textContent;
        const items = [...content.querySelectorAll(".menu-items li")].map(li=>li.textContent);
        const ingredients = [...content.querySelectorAll(".ingredients-list li")].map(li=>li.textContent);
        data[category]={items,ingredients};
    });
    localStorage.setItem("gardenMenuData",JSON.stringify(data));
}

// ================= PDF EXPORT =================
function exportFullPDF(){
    const clone=document.querySelector(".container").cloneNode(true);
    clone.querySelectorAll("button").forEach(b=>b.remove());

    const cover=document.createElement("div");
    cover.innerHTML=`
        <div style="text-align:center;padding:100px 20px;">
            <h1>Garden Party Planner</h1>
            <p>${new Date().toLocaleDateString()}</p>
        </div>
    `;
    clone.prepend(cover);

    html2pdf().set({
        margin:0.5,
        filename:"Garden-Party-Planner.pdf",
        html2canvas:{scale:2},
        jsPDF:{unit:'in',format:'letter'}
    }).from(clone).save();
}

</script>

</body>
</html>
