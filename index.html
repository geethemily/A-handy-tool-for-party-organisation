<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Interactive Garden Party Planner</title>

<style>
body {
  font-family: Arial, sans-serif;
  margin: 0;
  padding: 20px;
  background: #f4f8f2;
}

h1 {
  text-align: center;
  margin-bottom: 10px;
}

button {
  padding: 8px 12px;
  margin: 5px 0;
  cursor: pointer;
}

.card {
  border-radius: 10px;
  padding: 15px;
  margin: 20px 0;
  background: white;
  box-shadow: 0 4px 10px rgba(0,0,0,0.1);
}

.card h2 {
  margin-top: 0;
}

.timeline1 { border-left: 8px solid #6dbf73; }
.timeline2 { border-left: 8px solid #f4a261; }
.timeline3 { border-left: 8px solid #e76f51; }
.timeline4 { border-left: 8px solid #8ecae6; }
.timeline5 { border-left: 8px solid #b5838d; }
.timeline6 { border-left: 8px solid #6a4c93; }
.timeline7 { border-left: 8px solid #2a9d8f; }

ul {
  list-style: none;
  padding: 0;
}

li {
  padding: 6px;
  background: #f9f9f9;
  margin: 5px 0;
  border-radius: 5px;
  cursor: grab;
}

input[type="text"], input[type="number"] {
  width: 100%;
  padding: 6px;
  margin: 5px 0;
}

.summary {
  font-weight: bold;
  font-size: 18px;
  margin-top: 20px;
}

</style>
</head>

<body>

<h1>ðŸŒ¿ Interactive Garden Party Planner</h1>
<button onclick="exportPDF()">ðŸ“„ Export Planner as PDF</button>

<div id="planner"></div>

<div class="summary">
Total Budget Across All Timelines: $<span id="totalBudget">0</span>
</div>

<script>
const timelines = [
{
title:"1â€“2 Weeks Before: Planning & Foundations",
class:"timeline1",
tasks:[
"Decide the purpose & vibe",
"Set a date, time, and guest count",
"Choose a theme / color palette",
"Create a rough budget",
"Plan the menu",
"Check weather + backup plan",
"Make guest list & send invites",
"List what you already have vs need"
]
},
{
title:"5â€“7 Days Before: Prep Mode",
class:"timeline2",
tasks:[
"Finalize menu & drinks",
"Shop non-perishables",
"Drinks & ice plan",
"Disposable items",
"Arrange rentals",
"Plan seating layout",
"Test lighting",
"Prepare playlist",
"Tidy garden"
]
},
{
title:"2â€“3 Days Before: Execution Begins",
class:"timeline3",
tasks:[
"Grocery shop fresh items",
"Clean outdoor space",
"Clean bathrooms",
"Clean kitchen",
"Prep make-ahead foods",
"Chill drinks",
"Iron linens",
"Charge speakers/lights"
]
},
{
title:"1 Day Before: Set the Stage",
class:"timeline4",
tasks:[
"Arrange tables & chairs",
"Set tablecloths & centerpieces",
"Set up lights/candles",
"Prep serving trays",
"Final garden sweep",
"Confirm RSVPs",
"Event-day checklist",
"Sleep well"
]
},
{
title:"Day Of â€“ Morning",
class:"timeline5",
tasks:[
"Light cleaning",
"Finish food prep",
"Chill drinks & ice",
"Set up drink station",
"Trash & recycling bins",
"Walk-through flow"
]
},
{
title:"1 Hour Before Guests Arrive",
class:"timeline6",
tasks:[
"Final table setting",
"Food out",
"Music on",
"Candles/lights ready",
"Change outfit",
"Mindset shift"
]
},
{
title:"During & After Party",
class:"timeline7",
tasks:[
"Greet guests",
"Refill drinks & food",
"Manage timing",
"Take photos",
"Clear food safely",
"Quick cleanup",
"Note what worked"
]
}
];

function saveData() {
  const data = [];
  document.querySelectorAll(".card").forEach(card => {
    const tasks = [];
    card.querySelectorAll("li").forEach(li => tasks.push(li.innerText));
    data.push({
      budget: card.querySelector(".budget").value,
      have: card.querySelector(".have").value,
      need: card.querySelector(".need").value,
      tasks: tasks
    });
  });
  localStorage.setItem("gardenPlanner", JSON.stringify(data));
}

function loadData() {
  return JSON.parse(localStorage.getItem("gardenPlanner"));
}

function updateTotalBudget() {
  let total = 0;
  document.querySelectorAll(".budget").forEach(input=>{
    total += parseFloat(input.value) || 0;
  });
  document.getElementById("totalBudget").innerText = total.toFixed(2);
}

function createPlanner() {
  const saved = loadData();
  const container = document.getElementById("planner");

  timelines.forEach((timeline, index)=>{
    const card = document.createElement("div");
    card.className = `card ${timeline.class}`;

    card.innerHTML = `
      <h2>${timeline.title}</h2>
      <label>Budget ($)</label>
      <input type="number" class="budget" value="${saved?.[index]?.budget || ''}">
      <label>Things You Have</label>
      <input type="text" class="have" placeholder="Tables, chairs..." value="${saved?.[index]?.have || ''}">
      <label>Need to Buy / Rent</label>
      <input type="text" class="need" placeholder="Lights, heaters..." value="${saved?.[index]?.need || ''}">
      <h4>Tasks (Drag to Reorder)</h4>
      <ul></ul>
    `;

    const ul = card.querySelector("ul");
    const tasks = saved?.[index]?.tasks || timeline.tasks;

    tasks.forEach(task=>{
      const li = document.createElement("li");
      li.draggable = true;
      li.textContent = task;
      ul.appendChild(li);
    });

    addDragAndDrop(ul);

    card.querySelectorAll("input").forEach(input=>{
      input.addEventListener("input", ()=>{
        saveData();
        updateTotalBudget();
      });
    });

    container.appendChild(card);
  });

  updateTotalBudget();
}

function addDragAndDrop(ul) {
  let dragged;

  ul.addEventListener("dragstart", e=>{
    dragged = e.target;
  });

  ul.addEventListener("dragover", e=>{
    e.preventDefault();
  });

  ul.addEventListener("drop", e=>{
    e.preventDefault();
    if (e.target.tagName === "LI") {
      ul.insertBefore(dragged, e.target);
      saveData();
    }
  });
}

function exportPDF() {
  window.print();
}

createPlanner();
</script>

</body>
</html>
